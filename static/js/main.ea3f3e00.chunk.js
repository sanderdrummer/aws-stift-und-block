(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{86:function(e,a,t){e.exports=t(97)},91:function(e,a,t){},97:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(8),c=t.n(r),o=(t(91),t(53)),u=t(28),i=t(132),d=t(133),m=t(134),s=t(54),f=t(131),k=t(136),h=t(137),g=t(135),E=t(24),b=t(39),v=t(29),y={rounds:[],players:[]},p=Object(b.c)(Object(b.b)({stream:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"updateQuixx":return Object(v.a)({},a.data);case"newGame":return Object(v.a)({},y);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"setUser":return a.name;case"newGame":return"";default:return e}}})),w=new WebSocket("ws://localhost:3001");w.onmessage=function(e){var a=JSON.parse(e.data);a.players&&p.dispatch({type:"updateQuixx",data:a}),console.log("onMessage",a)};var O=function(){p.dispatch({type:"newGame"}),w.send(JSON.stringify({type:"newGame"}))},j=function(){w.send(JSON.stringify({type:"finishRound"}))},S=function(){w.send(JSON.stringify({type:"nextRound"}))},x=function(e){var a=e.stream.rounds;return a[a.length-1]},I=t(74),C=t(40),N=t(44),X=t(142),F=t(122),J=t(144),P=t(125),R=t(126),z=t(127),U=t(128),W=t(140),Q={"fail-1":{checked:!1,color:"fail"},"fail-2":{checked:!1,color:"fail"},"fail-3":{checked:!1,color:"fail"},"fail-4":{checked:!1,color:"fail"},"red-2":{color:"red",value:"2",checked:!1},"red-3":{color:"red",value:"3",checked:!1},"red-4":{color:"red",value:"4",checked:!1},"red-5":{color:"red",value:"5",checked:!1},"red-6":{color:"red",value:"6",checked:!1},"red-7":{color:"red",value:"7",checked:!1},"red-8":{color:"red",value:"8",checked:!1},"red-9":{color:"red",value:"9",checked:!1},"red-10":{color:"red",value:"10",checked:!1},"red-11":{color:"red",value:"11",checked:!1},"red-12":{color:"red",value:"12",checked:!1},"red-lock":{color:"red",value:"lock",checked:!1},"yellow-2":{color:"darkorange",value:"2",checked:!1},"yellow-3":{color:"darkorange",value:"3",checked:!1},"yellow-4":{color:"darkorange",value:"4",checked:!1},"yellow-5":{color:"darkorange",value:"5",checked:!1},"yellow-6":{color:"darkorange",value:"6",checked:!1},"yellow-7":{color:"darkorange",value:"7",checked:!1},"yellow-8":{color:"darkorange",value:"8",checked:!1},"yellow-9":{color:"darkorange",value:"9",checked:!1},"yellow-10":{color:"darkorange",value:"10",checked:!1},"yellow-11":{color:"darkorange",value:"11",checked:!1},"yellow-12":{color:"darkorange",value:"12",checked:!1},"yellow-lock":{color:"darkorange",value:"lock",checked:!1},"green-2":{color:"green",value:"2",checked:!1},"green-3":{color:"green",value:"3",checked:!1},"green-4":{color:"green",value:"4",checked:!1},"green-5":{color:"green",value:"5",checked:!1},"green-6":{color:"green",value:"6",checked:!1},"green-7":{color:"green",value:"7",checked:!1},"green-8":{color:"green",value:"8",checked:!1},"green-9":{color:"green",value:"9",checked:!1},"green-10":{color:"green",value:"10",checked:!1},"green-11":{color:"green",value:"11",checked:!1},"green-12":{color:"green",value:"12",checked:!1},"green-lock":{color:"green",value:"lock",checked:!1},"blue-2":{color:"blue",value:"2",checked:!1},"blue-3":{color:"blue",value:"3",checked:!1},"blue-4":{color:"blue",value:"4",checked:!1},"blue-5":{color:"blue",value:"5",checked:!1},"blue-6":{color:"blue",value:"6",checked:!1},"blue-7":{color:"blue",value:"7",checked:!1},"blue-8":{color:"blue",value:"8",checked:!1},"blue-9":{color:"blue",value:"9",checked:!1},"blue-10":{color:"blue",value:"10",checked:!1},"blue-11":{color:"blue",value:"11",checked:!1},"blue-12":{color:"blue",value:"12",checked:!1},"blue-lock":{color:"blue",value:"lock",checked:!1}},T=[["red-2","red-3","red-4","red-5","red-6","red-7","red-8","red-9","red-10","red-11","red-12","red-lock"],["yellow-2","yellow-3","yellow-4","yellow-5","yellow-6","yellow-7","yellow-8","yellow-9","yellow-10","yellow-11","yellow-12","yellow-lock"],["green-12","green-11","green-10","green-9","green-8","green-7","green-6","green-5","green-4","green-3","green-2","green-lock"],["blue-12","blue-11","blue-10","blue-9","blue-8","blue-7","blue-6","blue-5","blue-4","blue-3","blue-2","blue-lock"]],B=t(124),G=t(129),_=t(130),A=function(e){return e.stream.rounds},q=function(){var e=Object(E.c)(ae),a=Object(E.c)(A),t=a[a.length-1]||{currentPlayer:{name:"niemand"},nextPlayer:{name:""},dice:[]},l=n.a.useState(!1),r=Object(N.a)(l,2),c=r[0],o=r[1],u=e===t.nextPlayer.name,i=e===t.currentPlayer.name;return n.a.createElement(H,{name:t.currentPlayer.name,dice:t.dice},n.a.createElement(X.a,null,n.a.createElement(F.a,{onClick:function(){return o(!0)}},"vergangene runden anzeigen"),n.a.createElement(J.a,{onClose:function(){return o(!1)},open:c,anchor:"right"},n.a.createElement(X.a,{m:2},n.a.createElement(F.a,{onClick:function(){return o(!1)}},n.a.createElement(B.a,null)),a.map((function(e,a){return n.a.createElement(H,{name:e.currentPlayer.name,dice:e.dice,key:a})}))))),n.a.createElement(P.a,null),n.a.createElement(X.a,null,u&&t.finished&&n.a.createElement(F.a,{onClick:S},"du bist dran mit w\xfcrfeln!"),i&&!t.finished&&n.a.createElement(F.a,{onClick:j},"zug beenden"),!u&&n.a.createElement("p",null,t.finished?"warte bis ".concat(t.nextPlayer.name," gew\xfcrfelt hat"):"warte bis ".concat(t.currentPlayer.name," fertig ist"))))},H=function(e){var a=e.name,t=e.dice,l=e.children,r=void 0===l?void 0:l;return n.a.createElement(R.a,null,n.a.createElement(z.a,{title:"".concat(a," hat gew\xfcrfelt")}),n.a.createElement(X.a,{justifyContent:"center",justifyItems:"center",flexWrap:"wrap",mb:5,mt:5,display:"flex"},t.map((function(e){var a=e.color,t=e.value;return n.a.createElement(X.a,{p:2,fontSize:18,mr:1,mt:1,borderRadius:12,display:"flex",alignItems:"center",justifyItems:"center",style:{background:a}},t)}))),n.a.createElement(U.a,null,r))},M=function(e,a){switch(a.type){case"syncState":return Object(v.a)({},a.state);case"toggleField":return Object(v.a)({},e,Object(C.a)({},a.key,Object(v.a)({},e[a.key],{checked:!e[a.key].checked})));default:return e}},D=function(e){var a=e.checked,t=e.children;return n.a.createElement(X.a,{display:"flex",mr:1,alignItems:"center",justifyContent:"center",style:{minWidth:"4rem",minHeight:"4rem",borderRadius:"100%",background:a?"rgba(50, 50, 50, 0.5)":"transparent"}},t)},K=function(e){var a=e.cell,t=Object(I.a)(e,["cell"]);return n.a.createElement(X.a,Object.assign({},t,{fontSize:24,textAlign:"center",style:{background:a.color}}),n.a.createElement(D,{checked:a.checked},a.value.includes("lock")?a.checked?n.a.createElement(G.a,null):n.a.createElement(_.a,null):a.value))},L=function(e){var a=e.row,t=e.fields,l=e.dispatchFields;return n.a.createElement(X.a,{mb:2,mr:1,display:"flex",overflow:"auto"},a.map((function(e){return n.a.createElement(K,{onClick:function(){(function(e,a){var t=a[e];if(t.checked)return!0;var l=Object.keys(a).filter((function(t){return t.includes(e.split("-")[0])&&a[t].checked}));return e.includes("lock")?l.length>4:l.every((function(l){var n=a[l];return e.includes("red")||e.includes("yellow")?Number(t.value)>Number(n.value):Number(t.value)<Number(n.value)}))})(e,t)&&l({type:"toggleField",key:e})},cell:t[e],key:e})})))},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case 1:return 1;case 2:return 3;case 3:return 6;case 4:return 10;case 5:return 15;case 6:return 21;case 7:return 28;case 8:return 36;case 9:return 45;case 10:return 55;case 11:return 66;case 12:return 78;default:return 0}},V=function(e){var a=e.fields,t={red:0,darkorange:0,green:0,blue:0,fail:0},l=n.a.useState(t),r=Object(N.a)(l,2),c=r[0],o=r[1];return n.a.useEffect((function(){var e=Object.keys(a).reduce((function(e,t){var l=a[t];return l.checked?Object(v.a)({},e,Object(C.a)({},l.color,e[l.color]+1)):e}),t);o(e)}),[a]),n.a.createElement("div",null,"Ergebnis:",n.a.createElement(X.a,{overflow:"auto",mt:2,display:"flex"},Object.keys(c).filter((function(e){return"fail"!==e})).map((function(e){return n.a.createElement(X.a,{p:2,key:e,fontSize:24,ml:3,borderRadius:4,display:"flex",alignItems:"center",justifyItems:"center",style:{background:e}},$(c[e]))})),n.a.createElement(X.a,{p:2,fontSize:24,mr:3,borderRadius:4,display:"flex",alignItems:"center",justifyItems:"center"},-5*c.fail),n.a.createElement(X.a,{p:2,fontSize:24,ml:3,borderRadius:4,display:"flex",alignItems:"center",justifyItems:"center"},function(e){return Object.keys(e).reduce((function(a,t){return"fail"===t?a-5*e.fail:$(e[t])+a}),0)}(c))))},Y=function(e){var a=e.onClick,t=e.fields;return n.a.createElement(X.a,null,"Fehlw\xfcrfe:",n.a.createElement(X.a,{display:"flex"},["fail-1","fail-2","fail-3","fail-4"].map((function(e){return n.a.createElement(X.a,{bgcolor:"text.secondary",key:e,onClick:function(){return a(e)}},n.a.createElement(D,{checked:t[e].checked,children:"-5"}))}))))},Z=function(){var e=Object(E.c)(x),a=n.a.useReducer(M,Q),t=Object(N.a)(a,2),l=t[0],r=t[1];return n.a.useEffect((function(){var e=localStorage.getItem("QUIXXX_STATE_1"),a=JSON.parse(e);a&&r({type:"syncState",state:a})}),[]),n.a.useEffect((function(){localStorage.setItem("QUIXXX_STATE_1",JSON.stringify(l))}),[l]),console.log({currentRound:e}),e?n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{m:6}),n.a.createElement(R.a,null,n.a.createElement(z.a,{title:"QUIXX Block"}),n.a.createElement(U.a,null,T.map((function(e,a){return n.a.createElement(L,{key:a,row:e,fields:l,dispatchFields:r})})),n.a.createElement(Y,{fields:l,onClick:function(e){return r({type:"toggleField",key:e})}}),n.a.createElement(X.a,null))),n.a.createElement(X.a,{m:3}),n.a.createElement(q,null),n.a.createElement(X.a,{m:3}),n.a.createElement(R.a,null,n.a.createElement(z.a,{title:"Wertung"}),n.a.createElement(U.a,null,n.a.createElement(V,{fields:l}))),n.a.createElement(X.a,{mt:6,mb:6},n.a.createElement(F.a,{onClick:function(){r({type:"syncState",state:Q}),O()}},"Neues Spiel"))):n.a.createElement(X.a,{mt:6,mb:6},n.a.createElement(te,null))},ee=function(e){return e.stream.players},ae=function(e){return e.user},te=function(){var e=Object(E.c)(ee)||[],a=Object(E.c)(ae),t=n.a.useState(""),l=Object(N.a)(t,2),r=l[0],c=l[1],o=Object(E.b)();return n.a.createElement(X.a,{mt:6,mb:6},a?n.a.createElement(R.a,null,n.a.createElement(z.a,{title:n.a.createElement(n.a.Fragment,null,"Hi ",a)}),n.a.createElement(U.a,null,n.a.createElement(F.a,{onClick:S},"Spiel beginnen ?"))):n.a.createElement(R.a,null,n.a.createElement(U.a,null,n.a.createElement(W.a,{value:r,onChange:function(e){return c(e.target.value)}}),n.a.createElement(F.a,{disabled:0===r.length,onClick:function(){!function(e){w.send(JSON.stringify({type:"addPlayer",name:e}))}(r),o({type:"setUser",name:r})}},"mit spielen"))),n.a.createElement(X.a,{mt:6}),n.a.createElement(R.a,null,n.a.createElement(z.a,{title:"es wollen mitspielen:"}),n.a.createElement(U.a,null,e.map((function(e){return n.a.createElement("p",{key:e.name},e.name)})))),n.a.createElement(X.a,{mt:6,mb:6},n.a.createElement(F.a,{onClick:O},"Neues Spiel")))},le=function(){return n.a.createElement(E.a,{store:p},n.a.createElement(Z,null))},ne=function(){return n.a.createElement(i.a,{position:"static"},n.a.createElement(d.a,null,n.a.createElement(m.a,{edge:"start",color:"inherit","aria-label":"open drawer"},n.a.createElement(g.a,null)),n.a.createElement(o.b,{to:"/"},n.a.createElement(s.a,{variant:"h6",noWrap:!0},"STIFT UND BLOCK"))))},re=function(){return n.a.createElement("div",null,n.a.createElement(f.a,null,n.a.createElement(o.b,{to:"/quixx"},n.a.createElement(k.a,{button:!0},"QUIXX"))))},ce=function(){return n.a.createElement(o.a,null,n.a.createElement(ne,null),n.a.createElement(h.a,null,n.a.createElement(u.c,null,n.a.createElement(u.a,{path:"/quixx",children:n.a.createElement(le,null)}),n.a.createElement(u.a,{path:"/",children:n.a.createElement(re,null)}))))},oe=t(73),ue=t(138),ie=t(139);var de=function(){var e=Object(oe.a)({palette:{type:"dark"}});return n.a.createElement(ue.a,{theme:e},n.a.createElement(ie.a,null),n.a.createElement(ce,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[86,1,2]]]);
//# sourceMappingURL=main.ea3f3e00.chunk.js.map